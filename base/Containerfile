ARG fedora_version=34
# Use for toolbx containers
# FROM registry.fedoraproject.org/fedora-toolbox:${fedora_version}
# Use for distrobox containers
FROM registry.fedoraproject.org/fedora:${fedora_version}

LABEL com.github.containers.toolbox="true" \
      usage="This image is meant to be used by toolbox -i <image-name> <container-name>" \
      summary="Base image used for other specialized images" \
      maintainer="Jiri Konecny <DragonLich@psmail.xyz>"

RUN dnf update -y && \
    dnf install -y 'dnf-command(copr)' && \
    dnf copr enable -y atim/starship && \
    dnf install -y \
    fish \
# add terminfo packages for terminals which I'm testing
    kitty-terminfo \
    foot-terminfo \
    starship \
    pinentry-gnome3 \
    wl-clipboard \
    glibc-langpack-cs \
    glibc-langpack-en \
# distrobox dependencies
    bc \
    curl \
    diffutils \
    findutils \
    less \
    ncurses \
    passwd \
    pinentry \
    procps-ng \
    shadow-utils \
    sudo \
    util-linux \
    vte-profile \
    wget && \
# clean everything
    dnf clean all
